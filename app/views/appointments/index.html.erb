<% content_for :title, t('.title') %>

<div class="fr-container fr-py-6w px-12 lg:px-32">

  <h1 class="text-3xl"><%= t(".title") %></h1>

  <% if current_convict.appointments.any? %>

    <% if current_convict.next_appointment.present? %>
      <div class="my-10" id="next-appointment">
        <%= render 'appointment', appointment: current_convict.next_appointment %>
      </div>
    <% end %>

    <% if current_convict.future_appointments.drop(1).any? %>
      <div class="my-10" id="future-appointments">
        <h1 class="text-xl"><%= t(".next_appointments") %></h1>

        <ul class="grid grid-cols-1 gap-6 md:grid-cols-2 pl-0">
          <% current_convict.future_appointments.drop(1).each do |appointment| %>
            <%= render 'appointment_summary', appointment: appointment, display_state: false %>
          <% end %>
        </ul>
      </div>
    <% end %>

    <% if current_convict.past_appointments.any? %>
      <div class="my-10" id="past-appointments">
        <h1 class="text-xl"><%= t(".past_appointments") %></h1>

        <ul class="grid grid-cols-1 gap-6 md:grid-cols-2 pl-0">
          <% current_convict.past_appointments.each do |appointment| %>
            <%= render 'appointment_summary', appointment: appointment, display_state: true %>
          <% end %>
        </ul>
      </div>
    <% end %>

  <% else %>

    <div class="my-10">
      <h1 class="text-xl"><%= t(".no_appointment") %></h1>
    </div>

  <% end %>

</div>
